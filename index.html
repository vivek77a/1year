<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Happy 1 Year Bubbu ‚ù§Ô∏è</title>

<style>
body{
    margin:0;
    font-family: 'Segoe UI', sans-serif;
    text-align:center;
    overflow-x:hidden;
    background: linear-gradient(-45deg, #ffdde1, #ee9ca7, #ffd1dc, #ffc3a0);
    background-size: 400% 400%;
    animation: gradientBG 10s ease infinite;
}

@keyframes gradientBG{
    0%{background-position:0% 50%;}
    50%{background-position:100% 50%;}
    100%{background-position:0% 50%;}
}

h1{
    margin-top:40px;
    font-size:40px;
    color:white;
}

p{
    font-size:20px;
    color:white;
    width:80%;
    margin:auto;
}

button{
    padding:12px 25px;
    font-size:18px;
    border:none;
    border-radius:25px;
    background:white;
    color:#ff4d6d;
    cursor:pointer;
    margin-top:20px;
    transition:0.3s;
}

button:hover{
    background:#ff4d6d;
    color:white;
}

#surprise{
    display:none;
    margin-top:20px;
    font-size:22px;
    color:white;
}

/* PUZZLE */

#puzzle{
    width:320px;
    height:320px;
    margin:30px auto;
    display:grid;
    grid-template-columns:repeat(4, 1fr);
    grid-template-rows:repeat(4, 1fr);
    gap:2px;
}

.tile{
    width:100%;
    height:100%;
    background-image:url('love.jpg');
    background-size:320px 320px;
    cursor:pointer;
    border-radius:10px;
    transition:0.2s;
}

.tile:hover{
    transform:scale(1.05);
}

/* Hearts Animation */

.heart{
    position:fixed;
    bottom:-10px;
    font-size:20px;
    animation: floatUp 6s linear infinite;
}

@keyframes floatUp{
    0%{transform:translateY(0) rotate(0deg);}
    100%{transform:translateY(-100vh) rotate(360deg);}
}
</style>
</head>

<body>

<h1>Happy 1st Anniversary Bubbu ‚ù§Ô∏è</h1>

<p>
1 year ago we met‚Ä¶  
And since then my life became more beautiful because of you.  
You are my happiness, my peace, my forever. ü•πüíï
</p>

<button onclick="showSurprise()">Open Surprise üéÅ</button>

<div id="surprise">
    I promise to stay with you, annoy you, support you  
    and love you more every single day.  
    Happy 1 Year My Cutie Bubbu üíñ
</div>

<h2 style="color:white; margin-top:50px;">
Complete Our Love Puzzle üß©üíû
</h2>

<p style="color:white;">
Arrange the pieces to complete our picture üíï
</p>

<div id="puzzle"></div>

<button onclick="shuffle()">Shuffle Again üîÑ</button>

<script>

/* Surprise */

function showSurprise(){
    document.getElementById("surprise").style.display="block";
    createHearts();
}

/* Floating Hearts */

function createHearts(){
    for(let i=0;i<40;i++){
        let heart=document.createElement("div");
        heart.innerHTML="üíñ";
        heart.className="heart";
        heart.style.left=Math.random()*100+"vw";
        heart.style.fontSize=Math.random()*20+15+"px";
        heart.style.animationDuration=Math.random()*3+3+"s";
        document.body.appendChild(heart);
    }
}

/* PUZZLE GAME */

let puzzle = document.getElementById("puzzle");
let tiles = [];
let size = 4;

function createPuzzle(){
    puzzle.innerHTML="";
    tiles=[];
    for(let i=0;i<size*size;i++){
        let tile=document.createElement("div");
        tile.className="tile";
        let x=i%size;
        let y=Math.floor(i/size);
        tile.style.backgroundPosition = 
            (-x*80)+"px "+(-y*80)+"px";
        tile.dataset.index=i;
        tile.onclick=()=>swap(tile);
        puzzle.appendChild(tile);
        tiles.push(tile);
    }
}

function shuffle(){
    let nodes=[...puzzle.children];
    for(let i=nodes.length-1;i>0;i--){
        let j=Math.floor(Math.random()*(i+1));
        puzzle.appendChild(nodes[j]);
        nodes.splice(j,1);
    }
}

function swap(tile){
    let first=puzzle.firstChild;
    puzzle.insertBefore(tile,first);
    checkWin();
}

function checkWin(){
    let correct=true;
    let children=[...puzzle.children];
    for(let i=0;i<children.length;i++){
        if(children[i].dataset.index!=i){
            correct=false;
            break;
        }
    }
    if(correct){
        alert("We Complete Each Other üíñ Happy 1 Year Bubbu ü•π");
        createHearts();
    }
}

createPuzzle();
shuffle();

</script>

</body>
</html>
